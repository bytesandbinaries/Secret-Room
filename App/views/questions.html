<div class="sr-quest-view-wrap">

    <div class="sr-quest-content" >

        <div class="sr-quest-status" ng-switch on="question_status">

        <div ng-switch-when="startNewcategory" ng-init="get_category()"  class="sr-cat-control">
           <img class="sr-cat-icon" src="../assets/img/quest_placeholder.png">
            <h2 class="sr-category-heading" ng-bind="que_data[user.currentlevel].title"></h2>
            <p class="sr-category-description" ng-bind="que_data[user.currentlevel].description"></p>
            <button class="sr-category-button" ng-click="get_questions(user.currentlevel)">Start</button>
        </div>


        <div ng-switch-when="getQuestions" class="sr-quest-control">
                <div class="sr-progress-meta">
                   <div class="sr-cat-icon-area">
                       <img class="sr-cat-prog-icon" src="../assets/img/quest_placeholder.png">
                   </div>
                   <div class="sr-progress-bar">
                   <div class="sr-progress-text"></div>
                   <progress class="sr-progress" value="{{currQ+1}}" max="{{ques_data.length}}"></progress>
    <!--                       <span class="sr-progress-1" ng-bind="currQ+1"></span> of <span class="sr-progress-2" ng-bind="ques_data.length"></span>-->
                   </div>

                </div>


            <h3 class="sr-quest" ng-bind="ques_data[currQ].q_text"></h3>


                <div class="sr-quest-type-text sr-quest-opt" ng-if="ques_data[currQ].q_type=='tb'" ng-repeat="rep in getNumber(ques_data[currQ].q_responseMax)">
<!--                   <form class="sr-form-field">-->
                       <input type="text" ng-model="ques_data[currQ].resp[$index].value" />
<!--                   </form>-->
               </div>


                <div class="sr-quest-type-selection" ng-if="ques_data[currQ].q_type=='mp'" ng-init="breakoptions(ques_data[currQ])">

                    <div class="sr-quest-opt" ng-if="ques_data[currQ].q_responseMax==1" >
                       <ul class="sr-form-field">
                           <li class="sr-opt-block" ng-repeat="opt in ques_data[currQ].resp">

                                <div class="sr-radio-select" ng-if="(opt.item.indexOf('()')===-1)">
                                           <input type="radio"  name="{{ques_data[currQ].q_no}}" ng-model="ques_data[currQ].value" value="{{opt.item}}" id="radio-{{opt.item}}"/>
                                            <label ng-bind="opt.item" for="radio-{{opt.item}}"></label>
                                </div>

                                <div class="sr-dropdown-select" ng-if="!(opt.item.indexOf('()')===-1)">
                                    <select class="sr-select-options" ng-model="opt.value" ng-options="option.value as option.name for option in selection">
                                    </select>
                                </div>

                            </li>
                        </ul>
                     </div><!--sr-single-select-type-->

                     <div class="sr-quest-opt" ng-if="ques_data[currQ].q_responseMax==0 || ques_data[currQ].q_responseMax>1 ">
                        <ul class="sr-form-field">
                           <li class="sr-opt-block" ng-repeat="opt in ques_data[currQ].resp">
                                <div class="sr-checkbox-select">
                                    <input type="checkbox"  name="{{ques_data[currQ].q_no}}" ng-model="opt.value" value="{{opt.item}}" id="check-{{opt.item}}"/>
                                   <label ng-bind="opt.item" for="check-{{opt.item}}"></label>
                               </div>
                           </li>
                        </ul>
                     </div><!--sr-multi-select-type-->

                </div><!--sr-quest-type-selection-->


                <div class="sr-quest-type-range" ng-if="ques_data[currQ].q_type=='s'" ng-init="breakoptions(ques_data[currQ])">
                    <div class="sr-quest-opt">
                       <ul class="sr-range">
                           <li ng-repeat="rang in getNumber((ques_data[currQ].resp.length*3)-2) track by $index">
                               <figure ng-click="range_select(ques_data[currQ], $index)"></figure>
                               <figcaption ng-if="((4+$index) % 3 == 1)" ng-bind="ques_data[currQ].resp[($index/3)].item"></figcaption>
                               <figcaption ng-if="!((4+$index) % 3 == 1)"> range{{((ques_data[currQ].resp.length*3)-2)-$index}}</figcaption>
                           </li>
                       </ul>
                   </div>
                </div><!--sr-quest-type-range]-->


                <div class="sr-quest-range-type" ng-if="ques_data[currQ].q_type=='sm'" ng-init="breakoptions(ques_data[currQ])">
                    <div class="sr-sub-quest"><span ng-bind="ques_data[currQ].resp[attnum].item"></span></div>
                    <div ng-click="moveattback()"></div>
                    <div class="sr-quest-opt">
                       <ul class="sr-range">
                           <li ng-click="moveattforward(ques_data[currQ].resp)" ng-repeat="rang in    getNumber((ques_data[currQ].resp[attnum].respScale.length*3)-2) track by $index" >
                               <figure ng-click="ques_data[currQ].resp[attnum].respScale.value=$index"></figure>
                               <figcaption ng-if="((4+$index) % 3 == 1)" ng-bind="ques_data[currQ].resp[attnum].respScale[($index/3)].item"></figcaption>
                               <figcaption ng-if="!((4+$index) % 3 == 1)"> range{{((ques_data[currQ].resp[attnum].respScale.length*3)-2)-$index}}
                               </figcaption>
                           </li>
                       </ul>
                   </div>

                </div><!--sr-quest-type-range[with sub quest]-->



                <div ng-show="error" class="sr-error-message"><span  ng-bind="errorM"></span></div>

        </div><!--sr-quest-control-->
		<div ng-switch-when="save" class="sr-cat-control">
			<div ng-show="!saved" class="sr-save-progress">
				<h3 class="sr-">Save your progress</h3>
				<h4 class="sr-" >Account Details</h4>
                <form ng-submit="save_response()">
                   <input type="text" ng-model="user.email" placeholder="Type Email address" required />
                   <input type="password" ng-model="user.password" placeholder="Type Password" required />
                   <input type="submit" value="Submit" class="sr-go-button"/>
                </form>
            </div>
            <div ng-show="saved" class="sr-save-progress">
                <div ng-show="ques_data[currQ].q_no==63">
	                <h3 class="">We have your data</h3>
					<h4 class="" >Now we can find a possible match for you </h4>
				</div>
				<div ng-show="ques_data[currQ].q_no<63">
	                <h3 class="">Progress Saved</h3>
					<h4 class="" >You have to finish the questions to get a match</h4>
					<a  class="sr-go-button" ng-click="changefromsave()">Continue</a>
					<a href="/#" class="sr-stop-button">Exit</a>
				</div>
            </div>
		</div>
        <div class="sr-quest-nav">
            <a  ng-click="goback()" class="sr-back">Back</a>
            <a  class="sr-save"  ng-click="saving_response()" >Save</a>
            <a ng-click="next()" class="sr-forward">Next</a>
        </div><!--sr-quest-nav-->


        </div><!--sr-quest-status-->
    </div><!--sr-quest-content-->


</div><!--sr-quest-view-wrap-->
